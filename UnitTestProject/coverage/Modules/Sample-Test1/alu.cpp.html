<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>alu.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#pragma once

#include &lt;string&gt;
#include &lt;iostream&gt;
#include "Result.cpp"
#define INITIALIZED_NUM (-1)
#define ERROR_RESULT    (65535)
typedef enum e_status
{
    ALU_NORMAL,
    ALU_OPERAND1_ERROR,
    ALU_OPERAND2_ERROR,
    ALU_OPCODE_ERROR,
    ALU_STATUS_NUM
}status;

class ALU
{
    int operand1 = INITIALIZED_NUM;
    int operand2 = INITIALIZED_NUM;
    std::string OPCODE = "";

public:
<span style = "background-color:#dfd">    void setOperand1(int operand1) {
        this-&gt;operand1 = operand1;
    }</span>

<span style = "background-color:#dfd">    void setOperand2(int operand2) {
        this-&gt;operand2 = operand2;
    }</span>

<span style = "background-color:#dfd">    void setOPCODE(std::string OPCODE) {
        this-&gt;OPCODE = OPCODE;
    }</span>
    bool isOperand1Valid()
<span style = "background-color:#dfd">    {
        if (this-&gt;operand1 == INITIALIZED_NUM) return false;
        return true;
    }</span>
    bool isOperand2Valid()
<span style = "background-color:#dfd">    {
        if (this-&gt;operand2 == INITIALIZED_NUM) return false;
        return true;
    }</span>
    bool isAllOperandValid()
    {
        return isOperand1Valid() &amp;&amp; isOperand2Valid();
    }
    bool isOpcodeValid()
<span style = "background-color:#dfd">    {
        if (OPCODE == "ADD" || OPCODE == "MUL" || OPCODE == "SUB")</span>
        {
<span style = "background-color:#dfd">            return true;</span>
        }
<span style = "background-color:#dfd">        return false;
    }</span>
    void setResultandStatus(Result* r,int result, status st)
<span style = "background-color:#dfd">    {
        r-&gt;setResult(result);
        r-&gt;setStatus(st);
    }
    void enableSignal(Result* r) {
        if (!isOpcodeValid())</span>
        {
<span style = "background-color:#dfd">            setResultandStatus(r, ERROR_RESULT, ALU_OPCODE_ERROR);
        }
        else if (!isOperand1Valid())</span>
        {
<span style = "background-color:#dfd">            setResultandStatus(r, ERROR_RESULT, ALU_OPERAND1_ERROR);
        }
        else if (!isOperand2Valid())</span>
        {
<span style = "background-color:#dfd">            setResultandStatus(r, ERROR_RESULT, ALU_OPERAND2_ERROR);
        }</span>
        else
        {
<span style = "background-color:#dfd">            if (OPCODE == "ADD")</span>
            {
<span style = "background-color:#dfd">                setResultandStatus(r, operand1 + operand2, ALU_NORMAL);
            }
            else if (OPCODE == "MUL")</span>
            {
<span style = "background-color:#dfd">                setResultandStatus(r, operand1 * operand2, ALU_NORMAL);
            }
            else if (OPCODE == "SUB")</span>
            {
<span style = "background-color:#dfd">                setResultandStatus(r, operand1 - operand2, ALU_NORMAL);</span>
            }
        }
<span style = "background-color:#dfd">    }</span>
};</pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>